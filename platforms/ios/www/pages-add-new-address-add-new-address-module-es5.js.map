{"version":3,"sources":["webpack:///src/app/pages/add-new-address/add-new-address.page.html","webpack:///src/app/pages/add-new-address/add-new-address.page.scss","webpack:///src/app/pages/add-new-address/add-new-address.page.ts","webpack:///src/app/pages/add-new-address/add-new-address.module.ts","webpack:///src/app/pages/add-new-address/add-new-address-routing.module.ts"],"names":["AddNewAddressPage","platform","androidPermissions","geolocation","navCtrl","api","util","route","router","house","landmark","title","autocompleteItems1","queryParams","subscribe","data","from","info","JSON","parse","address","id","lat","lng","loadmap","mapEle","getLocation","options","fields","strictBounds","input","document","getElementById","getElementsByTagName","autocomplete","google","maps","places","Autocomplete","event","addListener","place","getPlace","location","LatLng","geometry","addMarker","map","setCenter","ready","then","is","checkPermission","PERMISSION","ACCESS_FINE_LOCATION","result","console","log","hasPermission","err","requestPermission","grantRequest","getCurrentPosition","maximumAge","timeout","enableHighAccuracy","resp","coords","latitude","longitude","getAddress","GoogleAutocomplete","getPlacePredictions","predictions","status","length","mapElement","style","featureType","elementType","stylers","saturation","mapOptions","zoom","scaleControl","streetViewControl","zoomControl","overviewMapControl","center","mapTypeControl","mapTypeControlOptions","mapTypeIds","MapTypeId","ROADMAP","Map","nativeElement","mapType","StyledMapType","name","mapTypes","set","setMapTypeId","geocoder","Geocoder","geocode","results","formatted_address","marker","undefined","setMap","icons","url","scaledSize","Size","Marker","position","icon","draggable","animation","Animation","DROP","getDragAddress","errorToast","translate","show","param","uid","localStorage","getItem","post","hide","publishAddress","back","showToast","error","selector","template","AddNewAddressPageModule","imports","declarations","routes","path","component","AddNewAddressPageRoutingModule","forChild","exports"],"mappings":"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","file":"pages-add-new-address-add-new-address-module-es5.js","sourcesContent":["export default \"<!-- \\n  Authors : initappz (Rahul Jograna)\\n  Website : https://initappz.com/\\n  App Name : ionic 5 foodies app\\n  Created : 28-Feb-2021\\n  This App Template Source code is licensed as per the\\n  terms found in the Website https://initappz.com/license\\n  Copyright and Good Faith Purchasers © 2020-present initappz.\\n -->\\n<ion-header>\\n  <ion-toolbar>\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-button (click)=\\\"util.back()\\\">\\n        <ion-icon slot=\\\"icon-only\\\" name=\\\"arrow-back\\\"></ion-icon>\\n      </ion-button>\\n    </ion-buttons>\\n    <ion-title>Añadir nueva dirección</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n  <div class=\\\"div_map\\\" #map></div>\\n  <div class=\\\"informations\\\">\\n\\n    <ion-item>\\n      <ion-label position=\\\"stacked\\\">Ubicación</ion-label>\\n      <ion-input [(ngModel)]=\\\"address\\\" #autocompletesearch id=\\\"googlePlaces\\\" ></ion-input>\\n    </ion-item>\\n\\n    <ion-item>\\n      <ion-label position=\\\"stacked\\\">Número de casa</ion-label>\\n      <ion-input [(ngModel)]=\\\"house\\\"></ion-input>\\n    </ion-item>\\n\\n    <ion-item>\\n      <ion-label position=\\\"stacked\\\">Punto de referencia</ion-label>\\n      <ion-input [(ngModel)]=\\\"landmark\\\"></ion-input>\\n    </ion-item>\\n\\n   \\n\\n    <ion-radio-group [(ngModel)]=\\\"title\\\" mode=\\\"md\\\">\\n\\n      <ion-label class=\\\"title\\\">\\n        Guardar como\\n      </ion-label>\\n\\n      <ion-item style=\\\"margin-top: 20px;\\\">\\n        <ion-icon name=\\\"home-outline\\\" slot=\\\"start\\\"></ion-icon>\\n        <ion-label>Casa</ion-label>\\n        <ion-radio value=\\\"casa\\\"></ion-radio>\\n      </ion-item>\\n\\n      <ion-item>\\n        <ion-icon name=\\\"briefcase-outline\\\" slot=\\\"start\\\"></ion-icon>\\n        <ion-label>Oficina</ion-label>\\n        <ion-radio value=\\\"oficina\\\"></ion-radio>\\n      </ion-item>\\n\\n      <ion-item>\\n        <ion-icon name=\\\"navigate-outline\\\" slot=\\\"start\\\"></ion-icon>\\n        <ion-label>Otro</ion-label>\\n        <ion-radio value=\\\"otro\\\"></ion-radio>\\n      </ion-item>\\n    </ion-radio-group>\\n    <ion-button *ngIf=\\\"from ==='new'\\\" (click)=\\\"addAddress()\\\" expand=\\\"block\\\">\\n      Añadir\\n    </ion-button>\\n\\n    <ion-button *ngIf=\\\"from ==='edit'\\\" (click)=\\\"updateAddress()\\\" expand=\\\"block\\\">\\n      Actualizar\\n    </ion-button>\\n  </div>\\n</ion-content>\";","export default \".div_map {\\n  height: 50vh;\\n  width: 100%;\\n  border: 1px solid gray;\\n}\\n\\n.informations {\\n  padding: 16px;\\n}\\n\\n.informations ion-item {\\n  --padding-start: 0px;\\n}\\n\\n.informations ion-item ion-icon {\\n  font-size: 20px;\\n  color: gray;\\n}\\n\\n.informations .title {\\n  display: block;\\n  font-weight: bold;\\n  margin-top: 15px;\\n}\\n\\n.informations ion-button {\\n  --border-radius: 5px;\\n  margin-top: 20px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL2FkZC1uZXctYWRkcmVzcy5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQ0E7RUFDSSxZQUFBO0VBQ0EsV0FBQTtFQUNBLHNCQUFBO0FBQUo7O0FBR0E7RUFDSSxhQUFBO0FBQUo7O0FBRUk7RUFDSSxvQkFBQTtBQUFSOztBQUVRO0VBQ0ksZUFBQTtFQUNBLFdBQUE7QUFBWjs7QUFJSTtFQUNJLGNBQUE7RUFDQSxpQkFBQTtFQUNBLGdCQUFBO0FBRlI7O0FBS0k7RUFDSSxvQkFBQTtFQUNBLGdCQUFBO0FBSFIiLCJmaWxlIjoiYWRkLW5ldy1hZGRyZXNzLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIiAgIC8vXG4uZGl2X21hcCB7XG4gICAgaGVpZ2h0OiA1MHZoO1xuICAgIHdpZHRoOiAxMDAlO1xuICAgIGJvcmRlcjogMXB4IHNvbGlkIGdyYXk7XG59XG5cbi5pbmZvcm1hdGlvbnMge1xuICAgIHBhZGRpbmc6IDE2cHg7XG5cbiAgICBpb24taXRlbSB7XG4gICAgICAgIC0tcGFkZGluZy1zdGFydDogMHB4O1xuXG4gICAgICAgIGlvbi1pY29uIHtcbiAgICAgICAgICAgIGZvbnQtc2l6ZTogMjBweDtcbiAgICAgICAgICAgIGNvbG9yOiBncmF5O1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLnRpdGxlIHtcbiAgICAgICAgZGlzcGxheTogYmxvY2s7XG4gICAgICAgIGZvbnQtd2VpZ2h0OiBib2xkO1xuICAgICAgICBtYXJnaW4tdG9wOiAxNXB4O1xuICAgIH1cblxuICAgIGlvbi1idXR0b24ge1xuICAgICAgICAtLWJvcmRlci1yYWRpdXM6IDVweDtcbiAgICAgICAgbWFyZ2luLXRvcDogMjBweDtcbiAgICB9XG59XG4iXX0= */\";","//\nimport { Component, OnInit, ViewChild, ElementRef } from '@angular/core';\nimport { Platform } from '@ionic/angular';\nimport { AndroidPermissions } from '@ionic-native/android-permissions/ngx';\nimport { Geolocation, GeolocationOptions, Geoposition, PositionError } from '@ionic-native/geolocation/ngx';\nimport { NavController } from '@ionic/angular';\nimport { ApisService } from 'src/app/services/apis.service';\nimport { UtilService } from 'src/app/services/util.service';\nimport { ActivatedRoute, Router } from '@angular/router';\ndeclare var google;\ndeclare const $: any;\n\n@Component({\n    selector: 'app-add-new-address',\n    templateUrl: './add-new-address.page.html',\n    styleUrls: ['./add-new-address.page.scss'],\n})\nexport class AddNewAddressPage implements OnInit {\n    @ViewChild('map', { static: true }) mapEle: ElementRef;\n    @ViewChild('autocompletesearch', { static: true }) autoCompleteS: ElementRef;\n    map: any;\n    marker: any;\n    lat: any;\n    lng: any;\n    address: any;\n    house: any = '';\n    landmark: any = '';\n    title: any = 'home';\n    id: any;\n    from: any;\n    pincode: any;\n    autocompleteItems1: any = [];\n    GoogleAutocomplete;\n    constructor(\n        private platform: Platform,\n        private androidPermissions: AndroidPermissions,\n        public geolocation: Geolocation,\n        private navCtrl: NavController,\n        public api: ApisService,\n        public util: UtilService,\n        private route: ActivatedRoute,\n        private router: Router\n    ) {\n        this.route.queryParams.subscribe(data => {\n            if (data && data.from) {\n                this.from = 'edit';\n                const info = JSON.parse(data.data);\n                this.address = info.address;\n                this.house = info.house;\n                this.id = info.id;\n                this.landmark = info.landmark;\n                this.lat = info.lat;\n                this.lng = info.lng;\n                this.loadmap(this.lat, this.lng, this.mapEle);\n            } else {\n                this.from = 'new';\n                this.getLocation();\n            }\n        });\n        //this.GoogleAutocomplete = new google.maps.places.AutocompleteService();\n\n\n    }\n\n    async ngOnInit() {\n\n    }\n\n\n    ionViewWillEnter() {\n        const options = {\n            fields: [\"geometry\", \"icon\", \"name\"],\n            strictBounds: false\n        };\n        let input = document.getElementById('googlePlaces').getElementsByTagName('input')[0];\n        let autocomplete = new google.maps.places.Autocomplete(input, options);\n        google.maps.event.addListener(autocomplete, 'place_changed', () => {\n            let place = autocomplete.getPlace();\n            const location = new google.maps.LatLng(place.geometry.location.lat(), place.geometry.location.lng());\n            this.lat = place.geometry.location.lat();\n            this.lng = place.geometry.location.lng();\n            this.addMarker(location);\n            this.map.setCenter(location)\n        });\n    }\n\n    getLocation() {\n        this.platform.ready().then(() => {\n            if (this.platform.is('android')) {\n                this.androidPermissions.checkPermission(this.androidPermissions.PERMISSION.ACCESS_FINE_LOCATION).then(\n                    result => console.log('Has permission?', result.hasPermission),\n                    err => this.androidPermissions.requestPermission(this.androidPermissions.PERMISSION.ACCESS_FINE_LOCATION)\n                );\n                this.grantRequest();\n            } else if (this.platform.is('ios')) {\n                this.grantRequest();\n            } else {\n                this.geolocation.getCurrentPosition({ maximumAge: 3000, timeout: 10000, enableHighAccuracy: false }).then((resp) => {\n                    if (resp) {\n                        this.lat = resp.coords.latitude;\n                        this.lng = resp.coords.longitude;\n                        this.loadmap(resp.coords.latitude, resp.coords.longitude, this.mapEle);\n                        this.getAddress(this.lat, this.lng);\n                    }\n                });\n            }\n        });\n    }\n\n    async onSearchChange(event) {\n        this.GoogleAutocomplete.getPlacePredictions({ input: this.address }, (predictions, status) => {\n            if (predictions && predictions.length > 0) {\n                this.autocompleteItems1 = predictions;\n            }\n        });\n    }\n\n    grantRequest() {\n        this.geolocation.getCurrentPosition({ maximumAge: 3000, timeout: 10000, enableHighAccuracy: false }).then((resp) => {\n            if (resp) {\n                this.loadmap(resp.coords.latitude, resp.coords.longitude, this.mapEle);\n                this.getAddress(resp.coords.latitude, resp.coords.longitude);\n            }\n        });\n    }\n\n    loadmap(lat, lng, mapElement) {\n        const location = new google.maps.LatLng(lat, lng);\n        const style = [\n            {\n                featureType: 'all',\n                elementType: 'all',\n                stylers: [\n                    { saturation: -100 }\n                ]\n            }\n        ];\n\n        const mapOptions = {\n            zoom: 15,\n            scaleControl: false,\n            streetViewControl: false,\n            zoomControl: false,\n            overviewMapControl: false,\n            center: location,\n            mapTypeControl: false,\n            mapTypeControlOptions: {\n                mapTypeIds: [google.maps.MapTypeId.ROADMAP, 'Foodfire5']\n            }\n        };\n        this.map = new google.maps.Map(mapElement.nativeElement, mapOptions);\n        const mapType = new google.maps.StyledMapType(style, { name: 'Grayscale' });\n        this.map.mapTypes.set('Foodfire5', mapType);\n        this.map.setMapTypeId('Foodfire5');\n        this.addMarker(location);\n    }\n\n    getAddress(lat, lng) {\n        const geocoder = new google.maps.Geocoder();\n        const location = new google.maps.LatLng(lat, lng);\n        geocoder.geocode({ 'location': location }, (results, status) => {\n            this.address = results[0].formatted_address;\n            this.lat = lat;\n            this.lng = lng;\n        });\n    }\n\n    addMarker(location) {\n\n        if (this.marker != undefined) {\n            this.marker.setMap(null);\n        }\n\n        const icons = {\n            url: 'assets/icon/marker.png',\n            scaledSize: new google.maps.Size(50, 50), // scaled size\n        };\n        this.marker = new google.maps.Marker({\n            position: location,\n            map: this.map,\n            icon: icons,\n            draggable: true,\n            animation: google.maps.Animation.DROP\n        });\n\n        google.maps.event.addListener(this.marker, 'dragend', () => {\n            this.getDragAddress(this.marker);\n        });\n\n    }\n\n    getDragAddress(event) {\n\n        const geocoder = new google.maps.Geocoder();\n        const location = new google.maps.LatLng(event.position.lat(), event.position.lng());\n        geocoder.geocode({ 'location': location }, (results, status) => {\n            this.address = results[0].formatted_address;\n            this.lat = event.position.lat();\n            this.lng = event.position.lng();\n        });\n    }\n\n\n    addAddress() {\n        if (this.address === '' || this.landmark === '' || this.house === '') {\n            this.util.errorToast(this.util.translate('Todos los campos son requerido'));\n            return false;\n        }\n\n        this.util.show();\n        const param = {\n            uid: localStorage.getItem('uid'),\n            address: this.address,\n            lat: this.lat,\n            lng: this.lng,\n            title: this.title,\n            house: this.house,\n            landmark: this.landmark,\n\n        };\n        this.api.post('address/save', param).then((data: any) => {\n            this.util.hide();\n            if (data && data.status === 200) {\n                this.util.publishAddress('');\n                this.navCtrl.back();\n                this.util.showToast('Direccion agregada', 'success', 'bottom');\n            } else {\n                this.util.errorToast('Algo ha ido mal');\n            }\n        }, error => {\n            this.util.hide();\n            this.util.errorToast('Algo ha ido mal');\n        });\n    }\n\n    updateAddress() {\n        if (this.address === '' || this.landmark === '' || this.house === '') {\n            this.util.errorToast('Todos los campos son requeridos');\n            return false;\n        }\n        this.util.show();\n        const param = {\n            id: this.id,\n            uid: localStorage.getItem('uid'),\n            address: this.address,\n            lat: this.lat,\n            lng: this.lng,\n            title: this.title,\n            house: this.house,\n            landmark: this.landmark\n\n        };\n        this.api.post('address/editList', param).then((data: any) => {\n            this.util.hide();\n            if (data && data.status === 200) {\n                this.util.publishAddress('');\n                this.navCtrl.back();\n                this.util.showToast('Dirección actualizada', 'success', 'bottom');\n            } else {\n                this.util.errorToast('Algo ha ido mal');\n            }\n        }, error => {\n            this.util.hide();\n            this.util.errorToast('Algo ha ido mal');\n        });\n    }\n}\n","   //\nimport { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { AddNewAddressPageRoutingModule } from './add-new-address-routing.module';\n\nimport { AddNewAddressPage } from './add-new-address.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    AddNewAddressPageRoutingModule,\n  ],\n  declarations: [AddNewAddressPage]\n})\nexport class AddNewAddressPageModule { }\n","   //\nimport { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { AddNewAddressPage } from './add-new-address.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: AddNewAddressPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class AddNewAddressPageRoutingModule { }\n"]}