!function(){function t(t){return function(t){if(Array.isArray(t))return n(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,i){if(!t)return;if("string"==typeof t)return n(t,i);var e=Object.prototype.toString.call(t).slice(8,-1);"Object"===e&&t.constructor&&(e=t.constructor.name);if("Map"===e||"Set"===e)return Array.from(t);if("Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return n(t,i)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n(t,n){(null==n||n>t.length)&&(n=t.length);for(var i=0,e=new Array(n);i<n;i++)e[i]=t[i];return e}function i(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function e(t,n){for(var i=0;i<n.length;i++){var e=n[i];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}(window.webpackJsonp=window.webpackJsonp||[]).push([[33],{UTXh:function(n,o,r){"use strict";r.r(o),r.d(o,"ChatsPageModule",function(){return k});var a=r("ofXK"),c=r("3Pt+"),u=r("TEn/"),s=r("tyNb"),b=r("2Rin"),l=r("8RPc"),f=r("fXoL");function m(t,n){1&t&&(f.Vb(0,"ion-item"),f.Vb(1,"ion-avatar",1),f.Rb(2,"ion-skeleton-text"),f.Ub(),f.Vb(3,"ion-label"),f.Vb(4,"h3"),f.Rb(5,"ion-skeleton-text",9),f.Ub(),f.Vb(6,"p"),f.Rb(7,"ion-skeleton-text",10),f.Ub(),f.Ub(),f.Ub())}function p(t,n){if(1&t){var i=f.Wb();f.Vb(0,"ion-item",11),f.dc("click",function(){f.uc(i);var t=n.$implicit;return f.hc().onChat(t)}),f.Vb(1,"ion-avatar",1),f.Rb(2,"img",12),f.Ub(),f.Vb(3,"ion-label"),f.Vb(4,"h3"),f.Ac(5),f.Ub(),f.Vb(6,"p"),f.Ac(7),f.Ub(),f.Ub(),f.Rb(8,"ion-ripple-effect"),f.Ub()}if(2&t){var e=n.$implicit,o=f.hc();f.Fb(2),f.nc("src",o.api.mediaURL+e.cover,f.wc),f.Fb(3),f.Cc(" ",e.name," "),f.Fb(2),f.Cc(" ",e.mobile," ")}}var d,h,y,g=[{path:"",component:(d=function(){function n(t,e,o,r){i(this,n),this.api=t,this.util=e,this.router=o,this.navCtrl=r,this.dummy=[],this.users=[],this.getChats()}var o,r,a;return o=n,(r=[{key:"getChats",value:function(){var n=this,i={id:localStorage.getItem("uid")};this.dummy=Array(10),this.api.post("chats/getByGroup",i).then(function(i){if(i&&200===i.status){var e=[];i.data.forEach(function(t){e.push(t.from_id),e.push(t.room_id)});var o=t(new Set(e)),r={id:(o=o.filter(function(t){return t!==localStorage.getItem("uid")})).join()};n.api.post("stores/getChatsNames",r).then(function(t){n.dummy=[],t&&200===t.status&&(n.users=t.data)},function(t){n.users=[],n.dummy=[],n.util.errorToast("Algo ha ido mal")})}else n.dummy=[]},function(t){n.util.errorToast("Algo ha ido mal")})}},{key:"ngOnInit",value:function(){}},{key:"back",value:function(){this.navCtrl.back()}},{key:"onAdmin",value:function(){var t={queryParams:{id:0,name:"Support",uid:localStorage.getItem("uid")}};this.router.navigate(["inbox"],t)}},{key:"onChat",value:function(t){var n={queryParams:{id:t.id,name:t.name,uid:localStorage.getItem("uid")}};this.router.navigate(["inbox"],n)}}])&&e(o.prototype,r),a&&e(o,a),n}(),d.\u0275fac=function(t){return new(t||d)(f.Qb(l.a),f.Qb(b.a),f.Qb(s.g),f.Qb(u.db))},d.\u0275cmp=f.Kb({type:d,selectors:[["app-chats"]],decls:14,vars:4,consts:[["color","primary"],["slot","start"],[3,"click"],["slot","icon-only","name","arrow-back"],["slot","end"],["slot","start","name","happy"],[1,"ion-padding"],[4,"ngFor","ngForOf"],["class","ion-activatable ripple-parent",3,"click",4,"ngFor","ngForOf"],["animated","",2,"width","80%"],["animated","",2,"width","60%"],[1,"ion-activatable","ripple-parent",3,"click"],["onError","this.src='assets/imgs/user.png'",3,"src"]],template:function(t,n){1&t&&(f.Vb(0,"ion-header"),f.Vb(1,"ion-toolbar",0),f.Vb(2,"ion-buttons",1),f.Vb(3,"ion-button",2),f.dc("click",function(){return n.back()}),f.Rb(4,"ion-icon",3),f.Ub(),f.Ub(),f.Vb(5,"ion-title"),f.Ac(6),f.Ub(),f.Vb(7,"ion-buttons",4),f.Vb(8,"ion-button",2),f.dc("click",function(){return n.onAdmin()}),f.Rb(9,"ion-icon",5),f.Ac(10),f.Ub(),f.Ub(),f.Ub(),f.Ub(),f.Vb(11,"ion-content",6),f.zc(12,m,8,0,"ion-item",7),f.zc(13,p,9,3,"ion-item",8),f.Ub()),2&t&&(f.Fb(6),f.Cc(" ",n.util.translate("Chats")," "),f.Fb(4),f.Cc(" ",n.util.translate("Support")," "),f.Fb(2),f.nc("ngForOf",n.dummy),f.Fb(1),f.nc("ngForOf",n.users))},directives:[u.s,u.X,u.h,u.g,u.t,u.W,u.m,a.i,u.v,u.e,u.L,u.w,u.D],styles:[""]}),d)}],v=((y=function t(){i(this,t)}).\u0275fac=function(t){return new(t||y)},y.\u0275mod=f.Ob({type:y}),y.\u0275inj=f.Nb({imports:[[s.i.forChild(g)],s.i]}),y),k=((h=function t(){i(this,t)}).\u0275fac=function(t){return new(t||h)},h.\u0275mod=f.Ob({type:h}),h.\u0275inj=f.Nb({imports:[[a.b,c.e,u.Y,v]]}),h)}}])}();