(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{"99Un":function(n,t,e){"use strict";e.r(t),e.d(t,"HomePageModule",function(){return P});var i=e("ofXK"),o=e("3Pt+"),a=e("TEn/"),c=e("tyNb"),r=e("mrSG"),s=e("8RPc"),d=e("2Rin"),g=e("wd/R"),l=e("LvDl"),_=e("m/P+"),b=e("fXoL");function p(n,t){if(1&n&&b.Rb(0,"div",25),2&n){const n=b.hc();b.yc("background-image","url("+n.profile+")")}}function m(n,t){1&n&&b.Rb(0,"div",25),2&n&&b.yc("background-image","url(assets/user.png)")}function h(n,t){if(1&n){const n=b.Wb();b.Vb(0,"ion-slide",9),b.dc("click",function(){b.uc(n);const e=t.$implicit;return b.hc(2).openOffers(e)}),b.Rb(1,"div",27),b.Ub()}if(2&n){const n=t.$implicit,e=b.hc(2);b.Fb(1),b.yc("background-image","url("+e.api.mediaURL+n.banner+")")}}function u(n,t){if(1&n&&(b.Vb(0,"ion-slides",23),b.zc(1,h,2,2,"ion-slide",26),b.Ub()),2&n){const n=b.hc();b.nc("options",n.slideOpts),b.Fb(1),b.nc("ngForOf",n.banners)}}function O(n,t){1&n&&(b.Vb(0,"ion-slide"),b.Rb(1,"ion-skeleton-text",28),b.Ub())}const C=[{path:"",component:(()=>{class n{constructor(n,t,e,i,o,a,c){this.platform=n,this.router=t,this.api=e,this.util=i,this.modalController=o,this.chMod=a,this.iab=c,this.allRest=[],this.chips=[],this.dummyRest=[],this.dummy=Array(5),this.banners=[],this.dummyBanners=Array(2),this.slideOpts={slidesPerView:1.2,pagination:!0},this.chips=[this.util.translate("Calificaci\xf3n 4.0+"),this.util.translate("Tiempo de entrega"),this.util.translate("Costo")],this.haveLocation=!1,this.plt=this.platform.is("ios")?"ios":"android",this.util.subscribeLocation().subscribe(n=>{this.dummyRest=[],this.allRest=[],this.banners=[],this.dummyBanners=Array(2),this.dummy=Array(5),this.getRestaurants()}),this.getRestaurants()}getName(){return this.util.userInfo&&this.util.userInfo.first_name?this.util.userInfo.first_name:""}getRestaurants(){const n={lat:localStorage.getItem("lat"),lng:localStorage.getItem("lng"),distance:10,type:1};this.api.post("stores/nearMe",n).then(n=>{if(this.dummyBanners=[],this.dummy=[],n&&200===n.status&&n.data.length>0){this.allRest=[],this.dummyRest=[],n.data=n.data.filter(n=>"1"===n.status),n.data.forEach(n=>Object(r.a)(this,void 0,void 0,function*(){n.rating=parseFloat(n.rating),n.time=parseInt(n.time),n.dish=parseInt(n.dish),n.isOpen=this.isOpen(n.open_time,n.close_time),n.cusine&&""!==n.cusine&&(n.cusine=JSON.parse(n.cusine).join()),this.allRest.push(n),this.dummyRest.push(n)}));const t=[...new Set(this.allRest.map(n=>n.id))];this.getBanners(t),this.chMod.detectChanges()}else this.allRest=[],this.dummy=[]},n=>{this.dummyRest=[],this.dummyBanners=[]}).catch(n=>{this.dummyRest=[],this.dummyBanners=[]})}onFocusEvent(n){this.router.navigate(["buscador",{useFocusOnSearch:!0}])}onBlurEvent(n){}getBanners(n){this.api.get("banners").then(t=>{this.dummyBanners=[],this.banners=[],t&&200===t.status&&t.data&&t.data.length&&(this.dummyBanners=[],this.banners=[],t.data.forEach(t=>{("0"===t.type&&n.includes(t.value)||"0"===t.type)&&this.banners.push(t)}))}).catch(n=>{})}isOpen(n,t){const e=g().format("HH:mm:ss"),i=g(e,"HH:mm:ss"),o=g(n,"HH:mm:ss"),a=g(t,"HH:mm:ss");return!!i.isBetween(o,a)}addFilter(n){0===n?this.allRest=Object(l.orderBy)(this.allRest,"rating","desc"):1===n?this.allRest=Object(l.orderBy)(this.allRest,"time","asc"):2===n?this.allRest=Object(l.orderBy)(this.allRest,"dish","asc"):3===n?this.allRest=Object(l.orderBy)(this.allRest,"name","asc"):4===n&&(this.allRest=Object(l.orderBy)(this.allRest,"name","desc"))}ngOnInit(){}presentModal(){return Object(r.a)(this,void 0,void 0,function*(){yield this.router.navigate(["choose-address"])})}openMenu(n){if(!1===n.isOpen||"0"===n.isClosed)return!1;this.router.navigate(["category"],{queryParams:{id:n.uid}})}openOffers(n){"0"===n.type?this.router.navigate(["category"],{queryParams:{id:n.value}}):this.iab.create(n.value)}onSearchChange(n){this.allRest=n.detail.value&&""!==n.detail.value?this.dummyRest.filter(t=>t.name.toLowerCase().includes(n.detail.value.toLowerCase())):this.dummyRest}chipChange(n){this.allRest=this.dummyRest,"Fastest Delivery"===n&&this.allRest.sort((n,t)=>(n=new Date(n.time))>(t=new Date(t.time))?-1:n<t?1:0),"Ratting 4.0+"===n&&(this.allRest=[],this.dummyRest.forEach(n=>{n.ratting>=4&&this.allRest.push(n)})),"Cost"===n&&this.allRest.sort((n,t)=>(n=n.time)>(t=t.time)?-1:n<t?1:0)}changeLocation(){this.router.navigate(["pick-location"])}bebidas(){this.router.navigate(["bebidas"])}comida(){this.router.navigate(["comida"])}conveniencia(){this.router.navigate(["conveniencia"])}hogaryferreteria(){this.router.navigate(["hogaryferreteria"])}cafeypan(){this.router.navigate(["cafeypan"])}supermercado(){this.router.navigate(["supermercado"])}salud(){this.router.navigate(["salud"])}}return n.\u0275fac=function(t){return new(t||n)(b.Qb(a.gb),b.Qb(c.g),b.Qb(s.a),b.Qb(d.a),b.Qb(a.cb),b.Qb(b.i),b.Qb(_.a))},n.\u0275cmp=b.Kb({type:n,selectors:[["app-home"]],decls:55,vars:10,consts:[["mode","ios"],[1,"deliveryAddress"],["src","assets/pin.png","alt","",1,"pin",3,"click"],[1,"address",3,"click"],["class","userPhoto",3,"backgroundImage",4,"ngIf"],[1,"div_searchbar"],["animated","true","mode","ios",1,"search_bar",3,"placeholder","debounce","ionFocus","ionBlur"],[3,"scrollEvents"],[1,"card-background-page"],[3,"click"],["src","assets/imgs/comida.png"],[1,"card-title"],["src","assets/imgs/bebidas.png"],[1,"card-background-page","column"],["src","assets/imgs/cafeypan.png"],["src","assets/imgs/supermercado.png"],["src","assets/imgs/salud.png"],["src","assets/imgs/hogaryferreteria.png"],["src","assets/imgs/conveniencia.png"],[1,"usernane"],[1,"color"],[1,"main_content_div"],[3,"options",4,"ngIf"],[3,"options"],[4,"ngFor","ngForOf"],[1,"userPhoto"],[3,"click",4,"ngFor","ngForOf"],[1,"back_image"],["animated","",2,"width","100%","height","100px","margin-left","10px","border-radius","5px"]],template:function(n,t){1&n&&(b.Vb(0,"ion-header",0),b.Vb(1,"ion-toolbar"),b.Vb(2,"div",1),b.Vb(3,"img",2),b.dc("click",function(){return t.changeLocation()}),b.Ub(),b.Vb(4,"p",3),b.dc("click",function(){return t.changeLocation()}),b.Ac(5),b.Ub(),b.zc(6,p,1,2,"div",4),b.zc(7,m,1,2,"div",4),b.Ub(),b.Vb(8,"div",5),b.Vb(9,"ion-searchbar",6),b.dc("ionFocus",function(){return t.onFocusEvent(t)})("ionBlur",function(){return t.onBlurEvent(t)}),b.Ub(),b.Ub(),b.Ub(),b.Ub(),b.Vb(10,"ion-content",7),b.Vb(11,"ion-grid",8),b.Vb(12,"ion-row"),b.Vb(13,"ion-col"),b.Vb(14,"ion-card",9),b.dc("click",function(){return t.comida()}),b.Rb(15,"img",10),b.Rb(16,"div",11),b.Ub(),b.Ub(),b.Vb(17,"ion-col"),b.Vb(18,"ion-card",9),b.dc("click",function(){return t.bebidas()}),b.Rb(19,"img",12),b.Rb(20,"div",11),b.Ub(),b.Ub(),b.Ub(),b.Ub(),b.Vb(21,"ion-grid",13),b.Vb(22,"ion-row"),b.Vb(23,"ion-col"),b.Vb(24,"ion-card",9),b.dc("click",function(){return t.cafeypan()}),b.Rb(25,"img",14),b.Rb(26,"div",11),b.Ub(),b.Ub(),b.Vb(27,"ion-col"),b.Vb(28,"ion-card",9),b.dc("click",function(){return t.supermercado()}),b.Rb(29,"img",15),b.Rb(30,"div",11),b.Ub(),b.Ub(),b.Ub(),b.Ub(),b.Vb(31,"ion-grid",13),b.Vb(32,"ion-row"),b.Vb(33,"ion-col"),b.Vb(34,"ion-card",9),b.dc("click",function(){return t.salud()}),b.Rb(35,"img",16),b.Rb(36,"div",11),b.Ub(),b.Ub(),b.Vb(37,"ion-col"),b.Vb(38,"ion-card",9),b.dc("click",function(){return t.hogaryferreteria()}),b.Rb(39,"img",17),b.Rb(40,"div",11),b.Ub(),b.Ub(),b.Ub(),b.Ub(),b.Vb(41,"ion-grid",13),b.Vb(42,"ion-row"),b.Vb(43,"ion-col"),b.Vb(44,"ion-card",9),b.dc("click",function(){return t.conveniencia()}),b.Rb(45,"img",18),b.Rb(46,"div",11),b.Ub(),b.Ub(),b.Ub(),b.Ub(),b.Vb(47,"div",19),b.Ac(48," Promociones para ti "),b.Vb(49,"ion-label",20),b.Ac(50),b.Ub(),b.Ub(),b.Vb(51,"div",21),b.zc(52,u,2,2,"ion-slides",22),b.Vb(53,"ion-slides",23),b.zc(54,O,2,0,"ion-slide",24),b.Ub(),b.Ub(),b.Ub()),2&n&&(b.Fb(5),b.Bc(t.util.cityAddress),b.Fb(1),b.nc("ngIf",t.profile),b.Fb(1),b.nc("ngIf",!t.profile),b.Fb(2),b.nc("placeholder","Buscar comercios")("debounce",250),b.Fb(1),b.nc("scrollEvents",!0),b.Fb(40),b.Bc(t.getName()),b.Fb(2),b.nc("ngIf",(null==t.banners?null:t.banners.length)&&(null==t.allRest?null:t.allRest.length)),b.Fb(1),b.nc("options",t.slideOpts),b.Fb(1),b.nc("ngForOf",t.dummyBanners))},directives:[a.s,a.X,i.j,a.G,a.kb,a.m,a.r,a.F,a.l,a.i,a.w,a.N,i.i,a.M,a.L],styles:["ion-toolbar[_ngcontent-%COMP%]:last-child{--border-width:0px}.animated[_ngcontent-%COMP%]{background-repeat:no-repeat;background-position:0 0;-webkit-animation-duration:1s;animation-duration:1s;-webkit-animation-fill-mode:both;animation-fill-mode:both}@-webkit-keyframes fadeInDown{0%{opacity:0;-webkit-transform:translateY(-20px)}to{opacity:1;-webkit-transform:translateY(0)}}@keyframes fadeInDown{0%{opacity:0;transform:translateY(-20px)}to{opacity:1;transform:translateY(0)}}.fadeInDown[_ngcontent-%COMP%]{-webkit-animation-name:fadeInDown;animation-name:fadeInDown}.header-md[_ngcontent-%COMP%]:after{background:none}.deliveryAddress[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:20px 10px 0}.deliveryAddress[_ngcontent-%COMP%]   .pin[_ngcontent-%COMP%]{width:25px;height:25px}.deliveryAddress[_ngcontent-%COMP%]   .address[_ngcontent-%COMP%]{font-size:1rem;margin:0}.deliveryAddress[_ngcontent-%COMP%]   .userPhoto[_ngcontent-%COMP%]{width:30px;height:30px;border-radius:50%;background-position:50%;background-repeat:no-repeat;background-size:cover}.div_searchbar[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;padding-left:16px;padding-right:16px;padding-top:8px}.div_searchbar[_ngcontent-%COMP%]   .search_bar[_ngcontent-%COMP%]{padding:0;width:100%}.chips_div[_ngcontent-%COMP%]{display:flex;flex-direction:row;overflow:scroll;scrollbar-width:none;-ms-overflow-style:none;padding:10px 16px}.chips_div[_ngcontent-%COMP%]   [_ngcontent-%COMP%]::-webkit-scrollbar{width:0;background:transparent}.chips_div[_ngcontent-%COMP%]   [_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:transparent}.chips_div[_ngcontent-%COMP%]   .chip[_ngcontent-%COMP%]{color:#d3d3d3}.chips_div[_ngcontent-%COMP%]   .chip[_ngcontent-%COMP%], .chips_div[_ngcontent-%COMP%]   .selected[_ngcontent-%COMP%]{border-radius:3px;padding:5px 20px;margin-right:10px;white-space:nowrap;font-size:12px;font-weight:700;border:1px solid #d3d3d3;border-radius:5px}.chips_div[_ngcontent-%COMP%]   .selected[_ngcontent-%COMP%]{background:var(--ion-color-primary);color:#fff}.heading[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;width:100%;align-items:center;margin-bottom:10px;padding-left:16px;padding-right:16px}.heading[_ngcontent-%COMP%]   .heading_lbl[_ngcontent-%COMP%]{font-size:20px;display:block;text-align:left;color:var(--ion-color-primary)}.heading[_ngcontent-%COMP%]   .small_lbl[_ngcontent-%COMP%]{font-size:12px;color:#d3d3d3}.main_content_div[_ngcontent-%COMP%]{padding:16px}.main_content_div[_ngcontent-%COMP%]   .back_image[_ngcontent-%COMP%]{height:165px;margin-left:10px;margin-bottom:10px;border-radius:20px;background-size:cover}.main_content_div[_ngcontent-%COMP%]   .back_image[_ngcontent-%COMP%], .main_content_div[_ngcontent-%COMP%]   .noData[_ngcontent-%COMP%]{width:100%;background-position:50%;background-repeat:no-repeat}.main_content_div[_ngcontent-%COMP%]   .noData[_ngcontent-%COMP%]{border-radius:10px;background-size:contain;height:250px}.main_content_div[_ngcontent-%COMP%]   .heading[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;width:100%;align-items:center;margin-bottom:10px}.main_content_div[_ngcontent-%COMP%]   .heading[_ngcontent-%COMP%]   .heading_lbl[_ngcontent-%COMP%]{font-size:20px;display:block;text-align:left;color:var(--ion-color-primary)}.main_content_div[_ngcontent-%COMP%]   .heading[_ngcontent-%COMP%]   .small_lbl[_ngcontent-%COMP%]{font-size:12px;color:#d3d3d3}.main_content_div[_ngcontent-%COMP%]   .slider_div[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{margin-top:15px}.main_content_div[_ngcontent-%COMP%]   .slider_div[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .back_image[_ngcontent-%COMP%]{height:200px;width:250px;background-position:50%;background-repeat:no-repeat;background-size:cover;border-radius:10px;position:relative}.main_content_div[_ngcontent-%COMP%]   .slider_div[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .back_image[_ngcontent-%COMP%]   .time_lbl[_ngcontent-%COMP%]{padding:10px;position:absolute;background:#fff;bottom:15px;right:15px;border-radius:25px;font-size:12px}.main_content_div[_ngcontent-%COMP%]   .slider_div[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .heading_lbl[_ngcontent-%COMP%]{font-size:20px;display:block;margin-top:10px;text-align:left}.main_content_div[_ngcontent-%COMP%]   .slider_div[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .price_rating[_ngcontent-%COMP%]{display:flex;height:25px;align-items:flex-start}.main_content_div[_ngcontent-%COMP%]   .slider_div[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .price_rating[_ngcontent-%COMP%]   .rating[_ngcontent-%COMP%]{color:var(--ion-color-primary);font-size:15px;margin-left:10px}.main_content_div[_ngcontent-%COMP%]   .slider_div[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .price_rating[_ngcontent-%COMP%]   .red_lbl[_ngcontent-%COMP%]{color:var(--ion-color-primary);font-size:12px}.main_content_div[_ngcontent-%COMP%]   .slider_div[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .price_rating[_ngcontent-%COMP%]   .small_lbl[_ngcontent-%COMP%]{font-size:12px;color:#d3d3d3}.main_content_div[_ngcontent-%COMP%]   .card_div[_ngcontent-%COMP%]   .heading[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;width:100%;align-items:center;margin-bottom:10px}.main_content_div[_ngcontent-%COMP%]   .card_div[_ngcontent-%COMP%]   .heading[_ngcontent-%COMP%]   .heading_lbl[_ngcontent-%COMP%]{font-size:20px;display:block;text-align:left;color:var(--ion-color-primary)}.main_content_div[_ngcontent-%COMP%]   .card_div[_ngcontent-%COMP%]   .heading[_ngcontent-%COMP%]   .small_lbl[_ngcontent-%COMP%]{font-size:12px;color:#d3d3d3}.main_content_div[_ngcontent-%COMP%]   .card_div[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{display:flex;width:100%;flex-direction:row}.main_content_div[_ngcontent-%COMP%]   .card_div[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .image_div[_ngcontent-%COMP%]{border-radius:10px;background-position:50%;background-repeat:no-repeat;background-size:cover;width:100%;height:100px}.main_content_div[_ngcontent-%COMP%]   .card_div[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .desc_div[_ngcontent-%COMP%]   .heading_lbl[_ngcontent-%COMP%]{font-size:1rem;display:block;text-align:left}.main_content_div[_ngcontent-%COMP%]   .card_div[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .desc_div[_ngcontent-%COMP%]   .small_lbl[_ngcontent-%COMP%]{font-size:.8rem;color:#d3d3d3;display:block;text-align:left}.main_content_div[_ngcontent-%COMP%]   .card_div[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .ratting[_ngcontent-%COMP%]{background:#00b3f0;padding:2px 5px;text-align:center}.main_content_div[_ngcontent-%COMP%]   .card_div[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .ratting[_ngcontent-%COMP%]   .rateNumber[_ngcontent-%COMP%]{color:#fff;font-size:.8rem}.main_content_div[_ngcontent-%COMP%]   .card_div[_ngcontent-%COMP%]   .cardClosed[_ngcontent-%COMP%]{display:flex;width:100%;flex-direction:row;background:#ebebeb;margin:10px 0;border-radius:15px}.main_content_div[_ngcontent-%COMP%]   .card_div[_ngcontent-%COMP%]   .cardClosed[_ngcontent-%COMP%]   .image_div[_ngcontent-%COMP%]{border-radius:10px;background-position:50%;background-repeat:no-repeat;background-size:cover;width:100%;height:100px}.main_content_div[_ngcontent-%COMP%]   .card_div[_ngcontent-%COMP%]   .cardClosed[_ngcontent-%COMP%]   .desc_div[_ngcontent-%COMP%]   .heading_lbl[_ngcontent-%COMP%]{font-size:1rem;display:block;text-align:left}.main_content_div[_ngcontent-%COMP%]   .card_div[_ngcontent-%COMP%]   .cardClosed[_ngcontent-%COMP%]   .desc_div[_ngcontent-%COMP%]   .small_lbl[_ngcontent-%COMP%]{font-size:.8rem;color:#d3d3d3;display:block;text-align:left}.main_content_div[_ngcontent-%COMP%]   .card_div[_ngcontent-%COMP%]   .cardClosed[_ngcontent-%COMP%]   .ratting[_ngcontent-%COMP%]{background:green;padding:2px 5px;text-align:center}.main_content_div[_ngcontent-%COMP%]   .card_div[_ngcontent-%COMP%]   .cardClosed[_ngcontent-%COMP%]   .ratting[_ngcontent-%COMP%]   .rateNumber[_ngcontent-%COMP%]{color:#fff;font-size:.8rem}.main_content_div[_ngcontent-%COMP%]   .card_div[_ngcontent-%COMP%]   .cardClosed[_ngcontent-%COMP%]   .closed[_ngcontent-%COMP%]{position:absolute;bottom:0;right:0;color:var(--ion-color-primary);font-weight:700;border-radius:5px;font-size:1rem;padding:5px}.card-background-page[_ngcontent-%COMP%]   ion-card[_ngcontent-%COMP%]{margin-left:0!important;margin-right:0!important;display:relative;position:relative;text-align:center;margin:0;width:100%;height:98%}.card-background-page[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{position:absolute;top:76%;font-size:1em;width:100%;font-weight:700;color:#fff}.column[_ngcontent-%COMP%]{padding-top:-9x!important;margin-top:-9px!important}.usernane[_ngcontent-%COMP%]{text-align:left;font-weight:600;font-size:20px;margin-left:10px}.color[_ngcontent-%COMP%]{color:#00b3f0}"]}),n})()}];let f=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=b.Ob({type:n}),n.\u0275inj=b.Nb({imports:[[c.i.forChild(C)],c.i]}),n})(),P=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=b.Ob({type:n}),n.\u0275inj=b.Nb({imports:[[i.b,o.e,a.Y,f]]}),n})()}}]);