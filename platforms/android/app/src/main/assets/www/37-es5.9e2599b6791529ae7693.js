!function(){function n(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function t(n,t){for(var e=0;e<t.length;e++){var i=t[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}(window.webpackJsonp=window.webpackJsonp||[]).push([[37],{k578:function(e,i,o){"use strict";o.r(i),o.d(i,"EditProfilePageModule",function(){return M});var a=o("ofXK"),r=o("3Pt+"),c=o("TEn/"),l=o("tyNb"),d=o("mrSG"),u=o("2Rin"),s=o("a/9d"),b=o("8RPc"),g=o("fXoL");function h(n,t){if(1&n){var e=g.Wb();g.Vb(0,"ion-button",2),g.dc("click",function(){g.uc(e);var n=g.hc();return n.edit_flag=!n.edit_flag}),g.Rb(1,"ion-icon",18),g.Ub()}}function p(n,t){if(1&n){var e=g.Wb();g.Vb(0,"ion-button",2),g.dc("click",function(){return g.uc(e),g.hc().update()}),g.Rb(1,"ion-icon",19),g.Ub()}}var f,m,v,_=function(n){return{"background-image":n}},C=[{path:"",component:(f=function(){function e(t,i,o,a,r){n(this,e),this.api=t,this.util=i,this.navCtrl=o,this.actionSheetController=a,this.camera=r,this.cover="",this.edit_flag=!0,this.getProfile()}var i,o,a;return i=e,(o=[{key:"ngOnInit",value:function(){}},{key:"getProfile",value:function(){var n=this,t={id:localStorage.getItem("uid")};this.util.show(),this.api.post("users/getById",t).then(function(t){if(n.util.hide(),t&&200===t.status&&t.data&&t.data.length){var e=t.data[0];n.util.userInfo=e,n.fname=e.first_name,n.lname=e.last_name,n.mobile=e.mobile,n.gender=e.gender,n.cover=e.cover,n.email=e.email}},function(t){n.util.hide(),n.util.errorToast("Algo ha ido mal")})}},{key:"updateProfile",value:function(){return Object(d.a)(this,void 0,void 0,regeneratorRuntime.mark(function n(){var t,e=this;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.actionSheetController.create({header:this.util.translate("Choose from"),buttons:[{text:this.util.translate("Camera"),icon:"camera",handler:function(){e.upload("camera")}},{text:this.util.translate("Gallery"),icon:"images",handler:function(){e.upload("gallery")}},{text:this.util.translate("Cancel"),icon:"close",role:"cancel",handler:function(){}}]});case 2:return t=n.sent,n.next=5,t.present();case 5:case"end":return n.stop()}},n,this)}))}},{key:"update",value:function(){var n=this;if(!this.fname||""===this.fname||!this.lname||""===this.lname||!this.mobile||""===this.mobile)return this.util.errorToast(this.util.translate("All Fields are required")),!1;var t={first_name:this.fname,last_name:this.lname,email:this.email,gender:this.gender,cover:this.cover,mobile:this.mobile,id:localStorage.getItem("uid")};this.util.show(this.util.translate("updating...")),this.api.post("users/edit_profile",t).then(function(t){n.util.hide(),n.getProfile()},function(t){n.util.hide(),n.util.errorToast("Algo ha ido mal")})}},{key:"back",value:function(){this.navCtrl.back()}},{key:"upload",value:function(n){var t=this;try{this.camera.getPicture({quality:100,targetHeight:800,targetWidth:800,destinationType:this.camera.DestinationType.DATA_URL,encodingType:this.camera.EncodingType.JPEG,mediaType:this.camera.MediaType.PICTURE,correctOrientation:!0,sourceType:"camera"===n?this.camera.PictureSourceType.CAMERA:this.camera.PictureSourceType.PHOTOLIBRARY}).then(function(n){t.util.show("uploading"),t.api.nativePost("users/upload_file",{img:n,type:"jpg"}).then(function(n){t.util.hide();var e=JSON.parse(n.data);t.cover=e.data;var i={cover:t.cover,id:localStorage.getItem("uid")};t.util.show(t.util.translate("updating...")),t.api.post("users/edit_profile",i).then(function(n){t.util.hide()},function(n){t.util.hide(),t.util.errorToast("Algo ha ido mal")})},function(n){t.util.hide(),t.util.errorToast("Algo ha ido mal")}).catch(function(n){t.util.hide(),t.util.errorToast("Algo ha ido mal")})})}catch(e){this.util.errorToast("Algo ha ido mal")}}}])&&t(i.prototype,o),a&&t(i,a),e}(),f.\u0275fac=function(n){return new(n||f)(g.Qb(b.a),g.Qb(u.a),g.Qb(c.db),g.Qb(c.a),g.Qb(s.a))},f.\u0275cmp=g.Kb({type:f,selectors:[["app-edit-profile"]],decls:43,vars:17,consts:[["color","primary"],["slot","start"],[3,"click"],["slot","icon-only","name","arrow-back"],[1,"t"],["slot","end"],[3,"click",4,"ngIf"],[1,"main_content_div"],[1,"main_div"],[1,"info_div"],[1,"user_img",3,"ngStyle","click"],[1,"name"],[1,"image_div"],["name","person-outline"],[1,"content_div"],["type","text",3,"disabled","placeholder","ngModel","ngModelChange"],["name","mail-outline"],["name","call-outline"],["slot","icon-only","name","pencil"],["slot","icon-only","name","checkmark"]],template:function(n,t){1&n&&(g.Vb(0,"ion-header"),g.Vb(1,"ion-toolbar",0),g.Vb(2,"ion-buttons",1),g.Vb(3,"ion-button",2),g.dc("click",function(){return t.util.back()}),g.Rb(4,"ion-icon",3),g.Ub(),g.Ub(),g.Vb(5,"ion-title",4),g.Ac(6," Perfil "),g.Ub(),g.Vb(7,"ion-buttons",5),g.zc(8,h,2,0,"ion-button",6),g.zc(9,p,2,0,"ion-button",6),g.Ub(),g.Ub(),g.Ub(),g.Vb(10,"ion-content"),g.Vb(11,"div",7),g.Vb(12,"div",8),g.Vb(13,"div",9),g.Vb(14,"div",10),g.dc("click",function(){return t.updateProfile()}),g.Ub(),g.Vb(15,"div",11),g.Vb(16,"div",12),g.Rb(17,"ion-icon",13),g.Ub(),g.Vb(18,"div",14),g.Vb(19,"span"),g.Ac(20,"Nombre \xa0- "),g.Ub(),g.Vb(21,"ion-input",15),g.dc("ngModelChange",function(n){return t.fname=n}),g.Ub(),g.Ub(),g.Ub(),g.Vb(22,"div",11),g.Vb(23,"div",12),g.Rb(24,"ion-icon",13),g.Ub(),g.Vb(25,"div",14),g.Vb(26,"span"),g.Ac(27,"Apellido \xa0- "),g.Ub(),g.Vb(28,"ion-input",15),g.dc("ngModelChange",function(n){return t.lname=n}),g.Ub(),g.Ub(),g.Ub(),g.Vb(29,"div",11),g.Vb(30,"div",12),g.Rb(31,"ion-icon",16),g.Ub(),g.Vb(32,"div",14),g.Vb(33,"span"),g.Ac(34,"Correo \xa0- "),g.Ub(),g.Vb(35,"ion-input",15),g.dc("ngModelChange",function(n){return t.email=n}),g.Ub(),g.Ub(),g.Ub(),g.Vb(36,"div",11),g.Vb(37,"div",12),g.Rb(38,"ion-icon",17),g.Ub(),g.Vb(39,"div",14),g.Vb(40,"span"),g.Ac(41,"Tel\xe9fono \xa0- "),g.Ub(),g.Vb(42,"ion-input",15),g.dc("ngModelChange",function(n){return t.mobile=n}),g.Ub(),g.Ub(),g.Ub(),g.Ub(),g.Ub(),g.Ub(),g.Ub()),2&n&&(g.Fb(8),g.nc("ngIf",t.edit_flag),g.Fb(1),g.nc("ngIf",!t.edit_flag),g.Fb(5),g.nc("ngStyle",g.rc(15,_,"url("+t.api.mediaURL+t.cover+"),url(assets/placeholder.jpg)")),g.Fb(7),g.nc("disabled",t.edit_flag)("placeholder","Nombre")("ngModel",t.fname),g.Fb(7),g.nc("disabled",t.edit_flag)("placeholder","Apellido")("ngModel",t.lname),g.Fb(7),g.nc("disabled",!0)("placeholder","Correo")("ngModel",t.email),g.Fb(7),g.nc("disabled",t.edit_flag)("placeholder","Tel\xe9fono")("ngModel",t.mobile))},directives:[c.s,c.X,c.h,c.g,c.t,c.W,a.j,c.m,a.k,c.u,c.kb,r.h,r.k],styles:["ion-button[_ngcontent-%COMP%]   .img_search[_ngcontent-%COMP%]{width:12px;margin-right:10px}.main_content_div[_ngcontent-%COMP%]{padding:20px}.main_content_div[_ngcontent-%COMP%]   .main_div[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:60vh;justify-content:space-between}.main_content_div[_ngcontent-%COMP%]   .user_img[_ngcontent-%COMP%]{height:90px;width:90px;border-radius:50%;border:3px solid var(--ion-color-primary);margin:auto auto 30px;background-position:50%;background-repeat:no-repeat;background-size:cover;min-width:90px;position:relative}.main_content_div[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{border-radius:5px;box-shadow:0 0 20px -3px rgba(30,98,255,.3);display:flex;flex-direction:row;padding:10px;justify-content:flex-start;position:relative;height:45px;margin-bottom:20px}.main_content_div[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]   .image_div[_ngcontent-%COMP%]{width:20px;position:relative}.main_content_div[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]   .icn[_ngcontent-%COMP%]{max-width:15px;position:absolute;top:50%;transform:translateY(-50%)}.main_content_div[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]   .content_div[_ngcontent-%COMP%]{position:relative;display:flex;flex-flow:row;margin-left:15px}.main_content_div[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]   .content_div[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:11px;color:#8992aa;padding-top:5px}.main_content_div[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]   .content_div[_ngcontent-%COMP%]   ion-input[_ngcontent-%COMP%]{font-size:11px;color:#454d62}.main_content_div[_ngcontent-%COMP%]   .btn_div[_ngcontent-%COMP%]{display:block;width:100%;text-align:center}.main_content_div[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{--background:var(--ion-color-primary);--border-radius:3px;--color:#fff;font-weight:700;font-size:12px;height:40px;width:150px;text-transform:capitalize;--background-activated:rgba(159,201,165,0.5);--color-actived:#fff}.main_content_div[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]   .logout_icon[_ngcontent-%COMP%]{width:12px}"]}),f)}],P=((v=function t(){n(this,t)}).\u0275fac=function(n){return new(n||v)},v.\u0275mod=g.Ob({type:v}),v.\u0275inj=g.Nb({imports:[[l.i.forChild(C)],l.i]}),v),M=((m=function t(){n(this,t)}).\u0275fac=function(n){return new(n||m)},m.\u0275mod=g.Ob({type:m}),m.\u0275inj=g.Nb({imports:[[a.b,r.e,c.Y,P]]}),m)}}])}();