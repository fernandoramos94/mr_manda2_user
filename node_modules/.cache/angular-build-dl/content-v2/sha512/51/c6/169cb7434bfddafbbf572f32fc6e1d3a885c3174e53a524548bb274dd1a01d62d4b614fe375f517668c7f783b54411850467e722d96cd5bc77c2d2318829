{"version":3,"sources":["src/app/pages/stripe-payments/stripe-payments.page.html","src/app/pages/stripe-payments/stripe-payments-routing.module.ts","src/app/pages/stripe-payments/stripe-payments.module.ts","src/app/pages/stripe-payments/stripe-payments.page.scss","src/app/pages/stripe-payments/stripe-payments.page.ts"],"names":[],"mappings":"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","sourcesContent":["export default \"<!-- \\n  Authors : initappz (Rahul Jograna)\\n  Website : https://initappz.com/\\n  App Name : ionic 5 foodies app\\n  Created : 28-Feb-2021\\n  This App Template Source code is licensed as per the\\n  terms found in the Website https://initappz.com/license\\n  Copyright and Good Faith Purchasers © 2020-present initappz.\\n -->\\n<ion-header>\\n  <ion-toolbar color=\\\"primary\\\">\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-button (click)=\\\"util.back()\\\">\\n        <ion-icon slot=\\\"icon-only\\\" name=\\\"arrow-back\\\"></ion-icon>\\n      </ion-button>\\n    </ion-buttons>\\n    <ion-title>{{util.translate('Pay with Stripe')}}</ion-title>\\n    <ion-buttons slot=\\\"end\\\">\\n      <ion-button (click)=\\\"onAdd()\\\">\\n        <ion-icon slot=\\\"end\\\" name=\\\"add\\\"></ion-icon>\\n      </ion-button>\\n    </ion-buttons>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n  <div class=\\\"div_content\\\">\\n    <div *ngIf=\\\"!cards?.length && !dummy?.length\\\">\\n      <p class=\\\"ion-text-center\\\">{{util.translate('No Card Found Please Add Card')}}</p>\\n    </div>\\n    <ion-item *ngFor=\\\"let item of dummy\\\">\\n      <ion-label>\\n        <h3>\\n          <ion-skeleton-text animated style=\\\"width: 50%\\\"></ion-skeleton-text>\\n        </h3>\\n        <p>\\n          <ion-skeleton-text animated style=\\\"width: 80%\\\"></ion-skeleton-text>\\n        </p>\\n        <p>\\n          <ion-skeleton-text animated style=\\\"width: 60%\\\"></ion-skeleton-text>\\n        </p>\\n      </ion-label>\\n    </ion-item>\\n    <ion-radio-group [(ngModel)]=\\\"token\\\">\\n      <ion-item class=\\\"div_inner\\\" lines=\\\"none\\\" *ngFor=\\\"let card of cards;let i = index\\\">\\n        <ion-thumbnail slot=\\\"end\\\"\\n          style=\\\"display: flex; flex-direction: column; justify-content: center; align-items: center;\\\">\\n          <ion-label>{{card.brand}} </ion-label>\\n        </ion-thumbnail>\\n        <ion-radio (ionSelect)=\\\"changeMethod(card.id)\\\" [value]=\\\"card.id\\\" slot=\\\"start\\\"></ion-radio>\\n        <ion-label>XXXX{{card.last4}} <br> {{util.translate('Expiry')}} {{card.exp_month}} / {{card.exp_year}}\\n        </ion-label>\\n      </ion-item>\\n    </ion-radio-group>\\n    <ion-button expand=\\\"block\\\" *ngIf=\\\"cards?.length\\\" class=\\\"btn_addcard\\\" (click)=\\\"payment()\\\">\\n      {{util.translate('Payment')}}\\n      <span *ngIf=\\\"util.cside === 'left'\\\"> {{util.currecny}} {{cart.grandTotal}}</span>\\n      <span *ngIf=\\\"util.cside === 'right'\\\"> {{cart.grandTotal}} {{util.currecny}}</span>\\n\\n    </ion-button>\\n\\n  </div>\\n</ion-content>\"","/*\n  Authors : initappz (Rahul Jograna)\n  Website : https://initappz.com/\n  App Name : ionic 5 foodies app\n  Created : 28-Feb-2021\n  This App Template Source code is licensed as per the\n  terms found in the Website https://initappz.com/license\n  Copyright and Good Faith Purchasers © 2020-present initappz.\n*/\nimport { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { StripePaymentsPage } from './stripe-payments.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: StripePaymentsPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class StripePaymentsPageRoutingModule { }\n","/*\n  Authors : initappz (Rahul Jograna)\n  Website : https://initappz.com/\n  App Name : ionic 5 foodies app\n  Created : 28-Feb-2021\n  This App Template Source code is licensed as per the\n  terms found in the Website https://initappz.com/license\n  Copyright and Good Faith Purchasers © 2020-present initappz.\n*/\nimport { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { StripePaymentsPageRoutingModule } from './stripe-payments-routing.module';\n\nimport { StripePaymentsPage } from './stripe-payments.page';\n\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    StripePaymentsPageRoutingModule,\n\n  ],\n  declarations: [StripePaymentsPage]\n})\nexport class StripePaymentsPageModule { }\n","export default \"@charset \\\"UTF-8\\\";\\n/*\\n  Authors : initappz (Rahul Jograna)\\n  Website : https://initappz.com/\\n  App Name : ionic 5 foodies app\\n  Created : 28-Feb-2021\\n  This App Template Source code is licensed as per the\\n  terms found in the Website https://initappz.com/license\\n  Copyright and Good Faith Purchasers © 2020-present initappz.\\n*/\\n.btn_right {\\n  position: relative;\\n  z-index: 999999;\\n}\\n.img_menu {\\n  width: 17px;\\n  position: absolute;\\n  right: 20px;\\n}\\n.div_content {\\n  width: 100%;\\n  padding-left: 20px;\\n  padding-right: 20px;\\n}\\n.div_content .div_inner {\\n  width: 100%;\\n  margin-top: 15px;\\n  padding-bottom: 15px;\\n}\\n.div_content .div_inner .r {\\n  position: absolute;\\n  top: 50%;\\n  transform: translateY(-50%);\\n}\\n.div_content .div_inner .lbl_number {\\n  display: block;\\n  font-size: 17px;\\n  color: gray;\\n  margin-left: 10px;\\n}\\n.div_content .div_inner .img_visa {\\n  float: right;\\n  position: absolute;\\n  top: 50%;\\n  display: block;\\n  font-size: 17px;\\n  color: gray;\\n  margin-left: 10px;\\n  transform: translateY(-50%);\\n  height: 15px !important;\\n  width: 50px !important;\\n}\\n.btn_addcard {\\n  margin-top: 30px;\\n  --box-shadow: none !important;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcGFnZXMvc3RyaXBlLXBheW1lbnRzL3N0cmlwZS1wYXltZW50cy5wYWdlLnNjc3MiLCIvVXNlcnMvYWxlamFuZHJvZGlhei9EZXNrdG9wL1RFTE8gMi4wL1RlbG8gVXN1YXJpby9zcmMvYXBwL3BhZ2VzL3N0cmlwZS1wYXltZW50cy9zdHJpcGUtcGF5bWVudHMucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLGdCQUFnQjtBQ0FoQjs7Ozs7Ozs7Q0FBQTtBQVNBO0VBQ0ksa0JBQUE7RUFDQSxlQUFBO0FERUo7QUNBQTtFQUNJLFdBQUE7RUFDQSxrQkFBQTtFQUNBLFdBQUE7QURHSjtBQ0RBO0VBQ0ksV0FBQTtFQUNBLGtCQUFBO0VBQ0EsbUJBQUE7QURJSjtBQ0ZJO0VBQ0ksV0FBQTtFQUNBLGdCQUFBO0VBQ0Esb0JBQUE7QURJUjtBQ0ZRO0VBQ0ksa0JBQUE7RUFDQSxRQUFBO0VBQ0EsMkJBQUE7QURJWjtBQ0ZRO0VBQ0ksY0FBQTtFQUNBLGVBQUE7RUFDQSxXQUFBO0VBQ0EsaUJBQUE7QURJWjtBQ0ZRO0VBQ0ksWUFBQTtFQUNBLGtCQUFBO0VBQ0EsUUFBQTtFQUNBLGNBQUE7RUFDQSxlQUFBO0VBQ0EsV0FBQTtFQUNBLGlCQUFBO0VBQ0EsMkJBQUE7RUFDQSx1QkFBQTtFQUNBLHNCQUFBO0FESVo7QUNBQTtFQUNJLGdCQUFBO0VBQ0EsNkJBQUE7QURHSiIsImZpbGUiOiJzcmMvYXBwL3BhZ2VzL3N0cmlwZS1wYXltZW50cy9zdHJpcGUtcGF5bWVudHMucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiQGNoYXJzZXQgXCJVVEYtOFwiO1xuLypcbiAgQXV0aG9ycyA6IGluaXRhcHB6IChSYWh1bCBKb2dyYW5hKVxuICBXZWJzaXRlIDogaHR0cHM6Ly9pbml0YXBwei5jb20vXG4gIEFwcCBOYW1lIDogaW9uaWMgNSBmb29kaWVzIGFwcFxuICBDcmVhdGVkIDogMjgtRmViLTIwMjFcbiAgVGhpcyBBcHAgVGVtcGxhdGUgU291cmNlIGNvZGUgaXMgbGljZW5zZWQgYXMgcGVyIHRoZVxuICB0ZXJtcyBmb3VuZCBpbiB0aGUgV2Vic2l0ZSBodHRwczovL2luaXRhcHB6LmNvbS9saWNlbnNlXG4gIENvcHlyaWdodCBhbmQgR29vZCBGYWl0aCBQdXJjaGFzZXJzIMKpIDIwMjAtcHJlc2VudCBpbml0YXBwei5cbiovXG4uYnRuX3JpZ2h0IHtcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xuICB6LWluZGV4OiA5OTk5OTk7XG59XG5cbi5pbWdfbWVudSB7XG4gIHdpZHRoOiAxN3B4O1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIHJpZ2h0OiAyMHB4O1xufVxuXG4uZGl2X2NvbnRlbnQge1xuICB3aWR0aDogMTAwJTtcbiAgcGFkZGluZy1sZWZ0OiAyMHB4O1xuICBwYWRkaW5nLXJpZ2h0OiAyMHB4O1xufVxuLmRpdl9jb250ZW50IC5kaXZfaW5uZXIge1xuICB3aWR0aDogMTAwJTtcbiAgbWFyZ2luLXRvcDogMTVweDtcbiAgcGFkZGluZy1ib3R0b206IDE1cHg7XG59XG4uZGl2X2NvbnRlbnQgLmRpdl9pbm5lciAuciB7XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgdG9wOiA1MCU7XG4gIHRyYW5zZm9ybTogdHJhbnNsYXRlWSgtNTAlKTtcbn1cbi5kaXZfY29udGVudCAuZGl2X2lubmVyIC5sYmxfbnVtYmVyIHtcbiAgZGlzcGxheTogYmxvY2s7XG4gIGZvbnQtc2l6ZTogMTdweDtcbiAgY29sb3I6IGdyYXk7XG4gIG1hcmdpbi1sZWZ0OiAxMHB4O1xufVxuLmRpdl9jb250ZW50IC5kaXZfaW5uZXIgLmltZ192aXNhIHtcbiAgZmxvYXQ6IHJpZ2h0O1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIHRvcDogNTAlO1xuICBkaXNwbGF5OiBibG9jaztcbiAgZm9udC1zaXplOiAxN3B4O1xuICBjb2xvcjogZ3JheTtcbiAgbWFyZ2luLWxlZnQ6IDEwcHg7XG4gIHRyYW5zZm9ybTogdHJhbnNsYXRlWSgtNTAlKTtcbiAgaGVpZ2h0OiAxNXB4ICFpbXBvcnRhbnQ7XG4gIHdpZHRoOiA1MHB4ICFpbXBvcnRhbnQ7XG59XG5cbi5idG5fYWRkY2FyZCB7XG4gIG1hcmdpbi10b3A6IDMwcHg7XG4gIC0tYm94LXNoYWRvdzogbm9uZSAhaW1wb3J0YW50O1xufSIsIi8qXG4gIEF1dGhvcnMgOiBpbml0YXBweiAoUmFodWwgSm9ncmFuYSlcbiAgV2Vic2l0ZSA6IGh0dHBzOi8vaW5pdGFwcHouY29tL1xuICBBcHAgTmFtZSA6IGlvbmljIDUgZm9vZGllcyBhcHBcbiAgQ3JlYXRlZCA6IDI4LUZlYi0yMDIxXG4gIFRoaXMgQXBwIFRlbXBsYXRlIFNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIGFzIHBlciB0aGVcbiAgdGVybXMgZm91bmQgaW4gdGhlIFdlYnNpdGUgaHR0cHM6Ly9pbml0YXBwei5jb20vbGljZW5zZVxuICBDb3B5cmlnaHQgYW5kIEdvb2QgRmFpdGggUHVyY2hhc2VycyDCqSAyMDIwLXByZXNlbnQgaW5pdGFwcHouXG4qL1xuLmJ0bl9yaWdodCB7XG4gICAgcG9zaXRpb246IHJlbGF0aXZlO1xuICAgIHotaW5kZXg6IDk5OTk5OTtcbn1cbi5pbWdfbWVudSB7XG4gICAgd2lkdGg6IDE3cHg7XG4gICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgIHJpZ2h0OiAyMHB4O1xufVxuLmRpdl9jb250ZW50IHtcbiAgICB3aWR0aDogMTAwJTtcbiAgICBwYWRkaW5nLWxlZnQ6IDIwcHg7XG4gICAgcGFkZGluZy1yaWdodDogMjBweDtcblxuICAgIC5kaXZfaW5uZXIge1xuICAgICAgICB3aWR0aDogMTAwJTtcbiAgICAgICAgbWFyZ2luLXRvcDogMTVweDtcbiAgICAgICAgcGFkZGluZy1ib3R0b206IDE1cHg7XG5cbiAgICAgICAgLnIge1xuICAgICAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgICAgICAgICAgdG9wOiA1MCU7XG4gICAgICAgICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoLTUwJSk7XG4gICAgICAgIH1cbiAgICAgICAgLmxibF9udW1iZXIge1xuICAgICAgICAgICAgZGlzcGxheTogYmxvY2s7XG4gICAgICAgICAgICBmb250LXNpemU6IDE3cHg7XG4gICAgICAgICAgICBjb2xvcjogZ3JheTtcbiAgICAgICAgICAgIG1hcmdpbi1sZWZ0OiAxMHB4O1xuICAgICAgICB9XG4gICAgICAgIC5pbWdfdmlzYSB7XG4gICAgICAgICAgICBmbG9hdDogcmlnaHQ7XG4gICAgICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgICAgICAgICB0b3A6IDUwJTtcbiAgICAgICAgICAgIGRpc3BsYXk6IGJsb2NrO1xuICAgICAgICAgICAgZm9udC1zaXplOiAxN3B4O1xuICAgICAgICAgICAgY29sb3I6IGdyYXk7XG4gICAgICAgICAgICBtYXJnaW4tbGVmdDogMTBweDtcbiAgICAgICAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWSgtNTAlKTtcbiAgICAgICAgICAgIGhlaWdodDogMTVweCAhaW1wb3J0YW50O1xuICAgICAgICAgICAgd2lkdGg6IDUwcHggIWltcG9ydGFudDtcbiAgICAgICAgfVxuICAgIH1cbn1cbi5idG5fYWRkY2FyZCB7XG4gICAgbWFyZ2luLXRvcDogMzBweDtcbiAgICAtLWJveC1zaGFkb3c6IG5vbmUgIWltcG9ydGFudDtcbn1cbiJdfQ== */\"","/*\n  Authors : initappz (Rahul Jograna)\n  Website : https://initappz.com/\n  App Name : ionic 5 foodies app\n  Created : 28-Feb-2021\n  This App Template Source code is licensed as per the\n  terms found in the Website https://initappz.com/license\n  Copyright and Good Faith Purchasers © 2020-present initappz.\n*/\nimport { Component, OnInit } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { UtilService } from 'src/app/services/util.service';\nimport swal from 'sweetalert2';\nimport { NavController } from '@ionic/angular';\nimport { CartService } from 'src/app/services/cart.service';\nimport * as moment from 'moment';\nimport { ApisService } from 'src/app/services/apis.service';\n@Component({\n  selector: 'app-stripe-payments',\n  templateUrl: './stripe-payments.page.html',\n  styleUrls: ['./stripe-payments.page.scss'],\n})\nexport class StripePaymentsPage implements OnInit {\n\n\n  cards: any[] = [];\n  token: any;\n  paykey: any;\n  storeFCM: any;\n  dummy: any[] = [];\n  constructor(\n    private router: Router,\n    private api: ApisService,\n    public util: UtilService,\n    private navCtrl: NavController,\n    public cart: CartService\n  ) {\n\n    const param = {\n      id: this.cart.cartStoreInfo.uid\n    };\n    this.api.post('users/getById', param).then((data: any) => {\n      console.log('*******************', data);\n      if (data && data.status === 200 && data.data && data.data.length) {\n        this.storeFCM = data.data[0].fcm_token;\n      }\n    }, error => {\n      console.log(error);\n    });\n  }\n\n  ngOnInit() {\n  }\n\n  getCards() {\n    this.dummy = Array(10);\n    console.log(this.util.userInfo.stripe_key);\n    this.api.httpGet('https://api.stripe.com/v1/customers/' + this.util.userInfo.stripe_key +\n      '/sources?object=card', this.util.stripe).subscribe((cards: any) => {\n        console.log(cards);\n        this.dummy = [];\n        if (cards && cards.data) {\n          this.cards = cards.data;\n          this.token = this.cards[0].id;\n        }\n      }, (error) => {\n        this.dummy = [];\n        console.log(error);\n        if (error && error.error && error.error.error && error.error.error.message) {\n          this.util.showErrorAlert(error.error.error.message);\n          return false;\n        }\n        this.util.errorToast(this.util.translate('Something went wrong'));\n      });\n  }\n\n  payment() {\n    console.log('place order');\n\n    swal.fire({\n      title: this.util.translate('Are you sure?'),\n      text: this.util.translate('Orders once placed cannot be cancelled and are non-refundable'),\n      icon: 'question',\n      confirmButtonText: this.util.translate('Yes'),\n      cancelButtonText: this.util.translate('cancel'),\n      showCancelButton: true,\n      backdrop: false,\n      background: 'white'\n    }).then((data) => {\n      console.log(data);\n      if (data && data.value) {\n        console.log('go to procesed,,');\n        const options = {\n          amount: parseInt(this.cart.grandTotal) * 100,\n          currency: this.util.stripeCode,\n          customer: this.util.userInfo.stripe_key,\n          card: this.token,\n        };\n        console.log('options', options);\n        const url = 'https://api.stripe.com/v1/charges';\n        this.util.show();\n        this.api.externalPost(url, options, this.util.stripe).subscribe((data: any) => {\n          console.log('------------------------->', data);\n          this.paykey = data.id;\n          this.util.hide();\n          this.util.showToast(this.util.translate('Payment Success'), 'success', 'bottom');\n          this.createOrder();\n        }, (error) => {\n          this.util.hide();\n          console.log(error);\n          this.util.hide();\n          if (error && error.error && error.error.error && error.error.error.message) {\n            this.util.showErrorAlert(error.error.error.message);\n            return false;\n          }\n          this.util.errorToast(this.util.translate('Something went wrong'));\n        });\n      }\n    });\n  }\n\n  async createOrder() {\n    const param = {\n      address: JSON.stringify(this.cart.deliveryAddress),\n      applied_coupon: this.cart.coupon && this.cart.coupon.discount ? 1 : 0,\n      coupon_id: this.cart.coupon && this.cart.coupon.discount ? this.cart.coupon.id : 0,\n      pay_method: 'stripe',\n      did: '',\n      delivery_charge: this.cart.deliveryPrice,\n      discount: this.cart.discount,\n      grand_total: this.cart.grandTotal,\n      orders: JSON.stringify(this.cart.cart),\n      paid: this.paykey,\n      restId: this.cart.cartStoreInfo.uid,\n      serviceTax: this.cart.orderTax,\n      status: 'created',\n      time: moment().format('YYYY-MM-DD HH:mm:ss'),\n      total: this.cart.totalPrice,\n      uid: localStorage.getItem('uid'),\n      notes: this.cart.orderNotes\n    };\n\n    console.log('param----->', param);\n\n    this.util.show();\n    this.api.post('orders/save', param).then((data: any) => {\n      console.log(data);\n      this.util.hide();\n      this.cart.orderNotes = '';\n      this.api.sendNotification('You have received new order', 'New Order Received', this.storeFCM);\n      this.util.publishNewOrder();\n      this.cart.clearCart();\n      this.navCtrl.navigateRoot(['/success']);\n    }, error => {\n      console.log(error);\n      this.util.hide();\n      this.util.showToast(this.util.translate('Something went wrong'), 'danger', 'bottom');\n    });\n  }\n\n  onAdd() {\n    this.router.navigate(['add-card']);\n  }\n\n  back() {\n    this.navCtrl.back();\n  }\n\n  changeMethod(id) {\n    this.token = id;\n  }\n\n  ionViewWillEnter() {\n    if (this.util.userInfo && this.util.userInfo.stripe_key) {\n      this.getCards();\n    }\n\n  }\n}\n"],"sourceRoot":"webpack:///","file":"pages-stripe-payments-stripe-payments-module-es5.js"}